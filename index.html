<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>CNM ‚Äì Checking Access</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script>
/* ================= CONFIG ================= */
const LIFF_ID = "2008736700-X7cUjaUv";

/* üîë ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ LINE User ID ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß (‡∏ñ‡∏≤‡∏ß‡∏£) */
const APPROVED_USER_IDS = [
  "U41d948c298e7ed3c0806dda1e6cce287",
  "Uc6cc04e19093f52a05b83d674ec853d3"
];

/* ================= LOGIC ================= */
async function main() {
  await liff.init({ liffId: LIFF_ID });

  // üîí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE OA
  if (!liff.isInClient()) {
    document.body.innerText =
      "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE Official Account ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô";
    return;
  }

  if (!liff.isLoggedIn()) {
    liff.login();
    return;
  }

  const profile = await liff.getProfile();
  const userId = profile.userId;

  console.log("LOGIN USER ID:", userId);

  if (APPROVED_USER_IDS.includes(userId)) {
    // ‚úÖ ‡∏ú‡πà‡∏≤‡∏ô ‚Üí ‡πÄ‡∏Ç‡πâ‡∏≤ Catalog
    location.replace("catalog.html");
  } else {
    // ‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‚Üí ‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
    document.body.innerText =
      "‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö";
  }
}

main();
</script>
</body>
</html>
